
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Welcome</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
</head>
<body>
    <button id="openInBrowser">在浏览器中打开</button>
    <script>
function openInExternalBrowser(url) {
    if (/MicroMessenger/i.test(navigator.userAgent)) {
        // 微信环境
        const ua = navigator.userAgent.toLowerCase();
        if (ua.match(/android/i)) {
            // Android：尝试 Intent 跳转
            try {
                window.location.href = `intent://${url.replace(/^https?:\/\//, '')}#Intent;scheme=https;package=com.android.chrome;end`;
            } catch (e) {
                // 如果失败，提示用户手动操作
                alert("请点击右上角 ⋮ 按钮，选择『在浏览器打开』");
            }
        } else if (ua.match(/iphone|ipad|ipod/i)) {
            // iOS：尝试 Universal Link 或 iframe 跳转
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.src = url;
            document.body.appendChild(iframe);
            setTimeout(() => {
                document.body.removeChild(iframe);
                // 如果未跳转，提示用户手动操作
                alert("请点击右上角 ⋯ 按钮，选择『在Safari中打开』");
            }, 500);
        }
    } else {
        // 非微信环境，直接跳转
        window.location.href = url;
    }
}

// 使用示例
document.getElementById('openInBrowser').addEventListener('click', function() {
    openInExternalBrowser('https://www.xakkssd.vip/4rdgum');
});
    </script>
</body>
</html>
